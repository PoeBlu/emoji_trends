<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.1/dist/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-deferred@1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>

</head>

<body>

    <div>
        <div></div>
        <div><span>Hi</span></div>
        <div>
            <canvas id="football" width="100%" height="25%"></canvas>
        </div>
        <div>
            <canvas id="football2" width="100%" height="25%"></canvas>
        </div>
        <div>
            <canvas id="football3" width="100%" height="25%"></canvas>
        </div>
        <div>
            <canvas id="football4" width="100%" height="25%"></canvas>
        </div>

    </div>

    <script>
        function makeChart(dates) {
            var myconfig = [{ deferred: { xOffset: '50%', delay: 250, } }];
            // var myoptions = [{
          
            // }];
            var day = dates.map(function (d) {
                return d.day;
            });
            var usage = dates.map(function (d) {
                return d.usage;
            });


            var football = document.getElementById("football");
            var options = { plugins: [{ deferred: { xOffset: '50%', delay: 250, } }],
        //     downsample: {
        //     enabled: true,
        //     threshold: 30 // max number of points to display per dataset
        // },
                responsive: true,
                tooltip: false,
                legend: false,
                animation: {
                    duration: 2000
                },
                scales:{
                    // xAxes: [{ display: false }],
                    yAxes: [{ display: false }],
                    xAxes: [{
                        gridLines : {
                display : false
            }
        }]
                },
             };
            new Chart(football.getContext("2d"), {
                type: ['line'],
                options: options,
                data: {
                    labels: day,
                    datasets: [{
                        backgroundColor: 'red',
                        data: usage,
                        pointRadius: 0,
                        borderWidth: 10,
                        borderColor: 'red',
                    }]
                }
            });

            var football2 = document.getElementById("football2");
            new Chart(football2.getContext("2d"), {
                type: ['line'],
                options: options,
                data: {
                    labels: day,
                    datasets: [{
                        backgroundColor: 'blue',
                        data: usage
                    }]
                }
            });

            var football3 = document.getElementById("football3");
            new Chart(football3.getContext("2d"), {
                type: ['line'],
                options: options,
                data: {
                    labels: day,
                    datasets: [{
                        backgroundColor: 'green',
                        data: usage
                    }]
                }
            });

            var football4 = document.getElementById("football4");
            new Chart(football4.getContext("2d"), {
                type: ['line'],
                options: options,
                data: {
                    labels: day,
                    datasets: [{
                        backgroundColor: 'yellow',
                        data: usage
                    }]
                }
            });
        }
        d3
            .csv("output/football.csv")
            .then(makeChart);


    </script>

</body>

</html>